import time

import opt_floor_gh_0609_customHole_inner

section = 3
# bound1_str = '''{0.15, 0.5, 0.23}
# {0.15, 0.5, 0.207015}
# {0.15, 0.5, 0.174612}
# {0.15, 0.5, 0.142311}
# {0.15, 0.5, 0.115735}
# {0.15, 0.5, 0.095633}
# {0.15, 0.5, 0.081088}
# {0.15, 0.5, 0.071032}
# {0.15, 0.5, 0.064585}
# {0.15, 0.5, 0.061078}
# {0.15, 0.5, 0.06}
# '''
#
# bound2_str = '''{-0.15, -0.5, 0.11}
# {-0.15, -0.5, 0.087015}
# {-0.15, -0.5, 0.054612}
# {-0.15, -0.5, 0.022311}
# {-0.15, -0.5, -0.004265}
# {-0.15, -0.5, -0.024367}
# {-0.15, -0.5, -0.038912}
# {-0.15, -0.5, -0.048968}
# {-0.15, -0.5, -0.055415}
# {-0.15, -0.5, -0.058922}
# {-0.15, -0.5, -0.06}
# '''

# bound1_str = '''{0.15, 0.5, 0.06}
# {0.170281, 0.5, 0.06}
# {0.198871, 0.5, 0.06}
# {0.227373, 0.5, 0.06}
# {0.250822, 0.5, 0.06}
# {0.268559, 0.5, 0.06}
# {0.281393, 0.5, 0.06}
# {0.290266, 0.5, 0.06}
# {0.295954, 0.5, 0.06}
# {0.299049, 0.5, 0.06}
# {0.3, 0.5, 0.06}
# '''
#
# bound2_str = '''{-0.15, -0.5, -0.06}
# {-0.170281, -0.5, -0.06}
# {-0.198871, -0.5, -0.06}
# {-0.227373, -0.5, -0.06}
# {-0.250822, -0.5, -0.06}
# {-0.268559, -0.5, -0.06}
# {-0.281393, -0.5, -0.06}
# {-0.290266, -0.5, -0.06}
# {-0.295954, -0.5, -0.06}
# {-0.299049, -0.5, -0.06}
# {-0.3, -0.5, -0.06}
# '''

bound1_str = '''{0.3, 0.5, 0.06}
{0.287262, 0.5, 0.06}
{0.253973, 0.5, 0.06}
{0.214469, 0.5, 0.06}
{0.17932, 0.5, 0.06}
{0.151544, 0.5, 0.06}
{0.130876, 0.5, 0.06}
{0.116306, 0.5, 0.06}
{0.106829, 0.5, 0.06}
{0.101615, 0.5, 0.06}
{0.1, 0.5, 0.06}
'''

bound2_str = '''{-0.3, -0.5, -0.06}
{-0.287262, -0.5, -0.06}
{-0.253973, -0.5, -0.06}
{-0.214469, -0.5, -0.06}
{-0.17932, -0.5, -0.06}
{-0.151544, -0.5, -0.06}
{-0.130876, -0.5, -0.06}
{-0.116306, -0.5, -0.06}
{-0.106829, -0.5, -0.06}
{-0.101615, -0.5, -0.06}
{-0.1, -0.5, -0.06}
'''

def str2Vec(input:str):
    lines = input.split("\n")
    output = []
    for line in lines:
        v_str = str(line)[1:-1].split(",")
        if len(v_str) != 3:
            continue
        v = [float(item) for item in v_str]

        output.append(v)
    return output

bound1_list = str2Vec(bound1_str)
bound2_list = str2Vec(bound2_str)


for i in range(len(bound1_list)):
    print(f"##### frame {i} ############################################")
    bound1 = bound1_list[i]
    bound2 = bound2_list[i]

    x1 = bound1[0]
    y1 = bound1[1]
    z1 = bound1[2]

    x2 = bound2[0]
    y2 = bound2[1]
    z2 = bound2[2]

    if x1 > x2:
        x1, x2 = x2, x1

    if y1 > y2:
        y1, y2 = y2, y1

    if z1 > z2:
        z1, z2 = z2, z1
    bound1 = [x1, y1, z1]
    bound2 = [x2, y2, z2]
    print(f"bound1: {bound1} bound2: {bound2}")
    time.sleep(1)

    opt_floor_gh_0609_customHole_inner.run(200,0.16,'xy',bound1,bound2,20,f"customHole_sec{section}_frame_{i}")
